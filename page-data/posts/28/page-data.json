{"componentChunkName":"component---src-page-template-post-tsx","path":"/posts/28/","result":{"pageContext":{"post":{"id":28,"title":"NeoVim 도전기","dateString":"2023-01-22","description":"새해를 맞아 개발 환경을 나에게 최적화하고 싶었다. 그래서 여러가지 방안을 생각해보았다. 개발 환경을 Linux 와 Vim 으로 맞추자라는 목표를 세우게 됐다. 결론적으로는 실패했지만 그 과정을 기록해둔다.","mainImageUrl":"/images/28-0.png","postThemes":[{"name":"post","id":1}],"html":"<h1 id=\"neovim-도전기\" style=\"position:relative;\"><a href=\"#neovim-%EB%8F%84%EC%A0%84%EA%B8%B0\" aria-label=\"neovim 도전기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NeoVim 도전기</h1>\n<p>새해를 맞아 개발 환경을 나에게 최적화하고 싶었다. 그래서 여러가지 방안을 생각해보았다. 개발 환경을 Linux 와 Vim 으로 맞추자라는 목표를 세우게 됐다. 결론적으로는 실패했지만 그 과정을 기록해둔다.</p>\n<h2 id=\"why-vim\" style=\"position:relative;\"><a href=\"#why-vim\" aria-label=\"why vim permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why Vim??</h2>\n<p>Vim 을 선택한 이유는 손목이 아프고 귀찮아서이다. 방향키나 마우스를 쓰기위해 손을 움직이고 싶지않아서다. 그리고 편리한 단축키들에 익숙해진다면 개발 속도 향상에 도움이 되지 않을까 싶었다. 그래서 내가 필요한 플러그인들이 NeoVim 에 있나 조사를 한 후에 NeoVim 으로 선택하게 됐다.</p>\n<h2 id=\"어떤-플러그인들이-필요할까\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%A4-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8%EB%93%A4%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%A0%EA%B9%8C\" aria-label=\"어떤 플러그인들이 필요할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떤 플러그인들이 필요할까?</h2>\n<p>우선 어떤 플러그인이 필요한지에 앞서 NeoVim 설정을 위해서 Vim script 를 쓸지 Lua 를 쓸지 결정했어야 했는데 나는 NeoVim 에서 Lua 를 지원하고 많은 플러그인도 Lua 로 제공되고 있기에 Lua 를 선택하게 됐다.</p>\n<p>이제 플러그인을 소개하겠다.</p>\n<ul>\n<li>플러그인 관리 - packer</li>\n<li>파일 탐색 - nvim-tree</li>\n<li>터미널 - toggleterm</li>\n<li>괄호 닫기 - auto-pairs</li>\n<li>에디터 하단에서 더 많은 정보 보기 - bufferline</li>\n<li>indent line 보여주기 - indent-blank-line</li>\n<li>자동 완성: nvim-cmp, lsp ...</li>\n<li>에디터 테마 (colorshceme) : NightFox</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"lua\"><pre class=\"language-lua\"><code class=\"language-lua\">\r\npacker<span class=\"token punctuation\">.</span><span class=\"token function\">startup</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>use<span class=\"token punctuation\">)</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'wbthomason/packer.nvim'</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'nvim-tree/nvim-tree.lua'</span><span class=\"token punctuation\">,</span> requires <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'nvim-tree/nvim-web-devicons'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token string\">'nvim-lualine/lualine.nvim'</span><span class=\"token punctuation\">,</span>\r\n    requires <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'kyazdani42/nvim-web-devicons'</span><span class=\"token punctuation\">,</span> opt <span class=\"token operator\">=</span> <span class=\"token keyword\">true</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token string\">\"windwp/nvim-autopairs\"</span><span class=\"token punctuation\">,</span>\r\n    config <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"nvim-autopairs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setup</span> <span class=\"token punctuation\">{</span>\r\n        disable_filetype <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"TelescopePrompt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"vim\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">end</span>\r\n  <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'akinsho/bufferline.nvim'</span><span class=\"token punctuation\">,</span> tag <span class=\"token operator\">=</span> <span class=\"token string\">\"v3.*\"</span><span class=\"token punctuation\">,</span> requires <span class=\"token operator\">=</span> <span class=\"token string\">'nvim-tree/nvim-web-devicons'</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"akinsho/toggleterm.nvim\"</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"lukas-reineke/indent-blankline.nvim\"</span> <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">-- Colorschemes</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"EdenEast/nightfox.nvim\"</span> <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">-- Cmp</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"hrsh7th/nvim-cmp\"</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">-- The completion plugin</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"hrsh7th/cmp-buffer\"</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">-- buffer completions</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"hrsh7th/cmp-path\"</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">-- path completions</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"hrsh7th/cmp-nvim-lsp\"</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"hrsh7th/cmp-nvim-lua\"</span> <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">-- Snippets</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"L3MON4D3/LuaSnip\"</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">--snippet engine</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"rafamadriz/friendly-snippets\"</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">-- a bunch of snippets to use</span>\r\n\r\n  <span class=\"token comment\">-- LSP</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"neovim/nvim-lspconfig\"</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">-- enable LSP</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"williamboman/nvim-lsp-installer\"</span> <span class=\"token punctuation\">}</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'onsails/lspkind.nvim'</span> <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">-- Treesitter</span>\r\n  <span class=\"token function\">use</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token string\">\"nvim-treesitter/nvim-treesitter\"</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">end</span><span class=\"token punctuation\">)</span>\r\n\r\n</code></pre></div>\n<h2 id=\"플러그인-세팅---lsp\" style=\"position:relative;\"><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%B8%ED%8C%85---lsp\" aria-label=\"플러그인 세팅   lsp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플러그인 세팅 - LSP</h2>\n<p>플러그인을 설정하면서 굉장히 많은 시간이 들었다. 특히 자동 완성을 설정하는데 오랜시간을 들였다. NeoVim 은 LSP 를 지원한다. Language Server 와 함께 Client 로서 다양한 기능을 수행할 수 있다 (\"go-to-definition\", \"find-reference\", \"hover\", \"completion\", \"rename\", \"format\", \"refactor\", etc.). NeoVim LSP 문서를 보면서 해보려했지만 이해가 부족해서 쉽지 않았고 다른 사람들이 설정해놓은 것을 보며 따라하려고 했다. 그렇게 다양한 사람들의 세팅을 찾아보았지만 서로 다른 세팅을 사용하고 있었고 뭐가 괜찮은지 비교하면서 따라해보면서 구성을 완료했다. 하지만 정확하게 이 플러그인이 어떤 일을 하는지 몰라서, 그리고 이 옵션들이 어떤 역할을 하는지 이해가 없는 채로 일단 되게끔만 했다. 이때부터 세팅에 너무 오랜 시간이 걸려서 짜증이 슬슬 나고 Vim 을 쓰려던 이유가 최적화이고 쓸데 없는 것은 붙이지 않으려고 했기에 스트레스를 받았다.</p>\n<p>그러다가 단축키를 세팅하는 과정에서 화가나서 때려쳤다. VSCode 에서 자주 사용하던 단축키가 있다. 전체 선택 (ctrl + a), 라인 이동 (alt + 방향키 위/아래) 등을 Vim 으로 옮기려던 중에 라인 이동이 한 줄은 가능한데 여러 줄이 불가능했다. 그리고 명령어, 입력, 비주얼 모드에서 이동 시키는 단축키 세팅을 하다가 생각대로 안돼서 때려쳐버렸다.</p>\n<p>아래는 내 vim configuration 의 repository 링크이다.</p>\n<p><a href=\"https://github.com/sunrisehouse/vim_config\">GITHUB: neovim config</a></p>\n<h2 id=\"다시-vscode-로\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%8B%9C-vscode-%EB%A1%9C\" aria-label=\"다시 vscode 로 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다시 VSCode 로...</h2>\n<p>VSCode 로 다시 돌아왔다. 두 주 정도 아주 짬짬히, 고생하며, 신나게 했었지만 실패했다. 하지만 나름 의의를 찾자면 VSCode 에서 제공하는, 당연하게 여겼던 것들이 너무나 고마워졌다는 것이다. 그리고 VSCode 에서 Vim 플러그인과 기타 단축키 설정으로 본래 목표였던 방향키나 마우스 사용 줄이기를 달성할 수 있을 것이라는 생각이 들었다. 그리고 여우의 신포도같지만 NeoVim 으로 구성했었어도 결국 GUI 와 마우스의 강점을 그리워하며 돌아오지 않았을까 싶다. 결국 실패했지만 Vim 사용에 좀 더 익숙해졌단 것도 마음에 든다. 계속해서 나에게 맞는 개발 환경을 찾기 위해 노력할 것이다.</p>"}}},"staticQueryHashes":[],"slicesMap":{}}