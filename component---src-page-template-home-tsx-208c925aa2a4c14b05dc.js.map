{"version":3,"file":"component---src-page-template-home-tsx-208c925aa2a4c14b05dc.js","mappings":"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","sources":["webpack://sunrisehouse.github.io/./src/lib/FooterScript/index.tsx","webpack://sunrisehouse.github.io/./src/view/component/button/BorderButton/index.tsx","webpack://sunrisehouse.github.io/./src/view/component/card/PostCard/index.tsx","webpack://sunrisehouse.github.io/./src/lib/scene/index.ts","webpack://sunrisehouse.github.io/./src/view/component/page/HomePage/index.tsx","webpack://sunrisehouse.github.io/./src/page-template/Home.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Script } from \"gatsby\"\r\n\r\nconst FooterScript = () => {\r\n  return (\r\n    <>\r\n      {/* <!-- Google tag (gtag.js) --> */}\r\n      <Script async src=\"https://www.googletagmanager.com/gtag/js?id=G-V0R9C5E0S7\" />\r\n      <Script>\r\n        {`\r\nwindow.dataLayer = window.dataLayer || [];\r\nfunction gtag(){dataLayer.push(arguments);}\r\ngtag('js', new Date());\r\ngtag('config', 'G-V0R9C5E0S7');\r\n        `}\r\n      </Script>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default FooterScript;\r\n","import React, { FunctionComponent, PropsWithChildren } from 'react';\r\n\r\nimport './index.scss';\r\n\r\ninterface Props {\r\n  onClick?: () => void\r\n}\r\n\r\nconst BorderButton: FunctionComponent<PropsWithChildren<Props>> = ({\r\n  children, onClick,\r\n}) => {\r\n  return (\r\n    <button className=\"border-button-comp\" onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default BorderButton;\r\n","import React, { FunctionComponent } from 'react';\r\n\r\nimport './index.scss';\r\n\r\ninterface Props {\r\n  mainImageUrl?: string;\r\n  dateString: string;\r\n  title: string;\r\n  postThemes: PostTheme[];\r\n  description: string;\r\n}\r\n\r\ninterface PostTheme {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\nconst PostCard: FunctionComponent<Props> = ({\r\n  title, description, dateString, mainImageUrl, postThemes,\r\n}) => {\r\n  return (\r\n    <div className=\"post-card-comp\">\r\n      <div\r\n        className=\"main-image-container\"\r\n      >\r\n        <div\r\n          className=\"main-image\"\r\n          style={mainImageUrl ? {\r\n            backgroundImage: `url(${mainImageUrl})`\r\n          } : undefined}\r\n        />\r\n        <div className=\"curtain\"></div>\r\n      </div>\r\n      <div className=\"description-container\">\r\n        <p className=\"date\">{dateString}</p>\r\n        <p className=\"title\">{title}</p>\r\n        <p className=\"post-theme-container\">\r\n          {\r\n            postThemes.map(({ name }) => (\r\n              <span key={name}>{name}</span>\r\n            ))\r\n          }\r\n        </p>\r\n        <p className=\"description\">{description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n","class ImageObject {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n    image: HTMLImageElement;\r\n\r\n    constructor(x, y, width, height, imageUrl) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.image = new Image();\r\n        this.image.src = imageUrl;\r\n    }\r\n\r\n    render = (canvasContext) => {\r\n        canvasContext.drawImage(this.image, this.x, this.y, this.width, this.height);\r\n    };\r\n}\r\n\r\nclass Scene {\r\n    SUN_MIN_Y = 100;\r\n    TRAVELER_IMAGE_URLS = [\r\n        '/images/red-car.png',\r\n        '/images/boat.png',\r\n    ]\r\n    IMAGE_OBJECT_SIZES = [\r\n        {leftOffset: 60, topOffset: 114, width: 200, height: 200},\r\n        {leftOffset: 0, topOffset: 67, width: 72, height: 72},\r\n    ]\r\n    curImageIdx: number;\r\n    traveler: ImageObject;\r\n    travelerVelocity: { x: number, y: number };\r\n\r\n    constructor(initialWidth, initialHeight) {\r\n        this.curImageIdx = 0;\r\n        this.traveler = this.makeCarTraveler(initialWidth, initialHeight);\r\n        this.travelerVelocity = { x:-0.1, y:0 };\r\n    }\r\n\r\n    makeCarTraveler = (width, height) => {\r\n        this.curImageIdx += 1;\r\n        if (this.curImageIdx == this.TRAVELER_IMAGE_URLS.length) this.curImageIdx = 0;\r\n        const imageObject = new ImageObject(\r\n            width - this.IMAGE_OBJECT_SIZES[this.curImageIdx].leftOffset,\r\n            height - this.IMAGE_OBJECT_SIZES[this.curImageIdx].topOffset,\r\n            this.IMAGE_OBJECT_SIZES[this.curImageIdx].width,\r\n            this.IMAGE_OBJECT_SIZES[this.curImageIdx].height,\r\n            this.TRAVELER_IMAGE_URLS[this.curImageIdx]);\r\n        return imageObject;\r\n    };\r\n\r\n    render = (canvasContext, delta) => {\r\n        if (this.traveler) {\r\n            this.traveler.x += this.travelerVelocity.x * delta;\r\n            this.traveler.y = canvasContext.canvas.height - this.IMAGE_OBJECT_SIZES[this.curImageIdx].topOffset;\r\n            this.traveler.y += this.travelerVelocity.y * delta;\r\n        }\r\n\r\n        if (this.traveler.x < -200) {\r\n            this.traveler = this.makeCarTraveler(canvasContext.canvas.width, canvasContext.canvas.height);\r\n        }\r\n        \r\n        if (this.traveler) this.traveler.render(canvasContext);\r\n    };\r\n}\r\n\r\nexport default Scene;\r\n","import React, { FunctionComponent, useEffect, useRef } from 'react';\r\nimport BorderButton from '../../button/BorderButton';\r\nimport PostCard from '../../card/PostCard';\r\nimport Scene from '../../../../lib/scene';\r\n\r\nimport './index.scss';\r\n\r\ninterface Props {\r\n  posts: Post[];\r\n  onClickPost: (post: Post) => void;\r\n  isShownMoreButton: boolean;\r\n  onClickMore: () => void;\r\n  totalPostNum: number;\r\n  nextPageTotalPostNum: number;\r\n}\r\n\r\ninterface Post {\r\n  id: number;\r\n  title: string;\r\n  dateString: string;\r\n  mainImageUrl: string;\r\n  description: string;\r\n  postThemes: PostTheme[];\r\n}\r\n\r\ninterface PostTheme {\r\n  id: number;\r\n  name: string\r\n}\r\n\r\nconst HomePage: FunctionComponent<Props> = ({\r\n  posts, onClickPost, onClickMore, isShownMoreButton,\r\n  totalPostNum, nextPageTotalPostNum,\r\n}) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const greetingRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const scene = new Scene(greetingRef?.current?.clientWidth, greetingRef?.current?.clientHeight);\r\n    const canvasContext = canvasRef?.current?.getContext('2d');\r\n\r\n    const matchCanvasToSky = () => {\r\n      if (canvasRef && canvasRef.current && greetingRef && greetingRef.current) {\r\n        canvasRef.current.width = greetingRef.current.clientWidth;\r\n        canvasRef.current.height = greetingRef.current.clientHeight;\r\n      }\r\n    };\r\n\r\n    matchCanvasToSky();\r\n\r\n    const onResizeCanvas = () => {\r\n      matchCanvasToSky();\r\n    };\r\n\r\n    let prevTime = 3000;\r\n    const render = (time) => {\r\n      canvasRef?.current?.width && canvasRef?.current?.height &&\r\n        canvasContext?.clearRect(0, 0, canvasRef?.current?.width, canvasRef?.current?.height);\r\n        \r\n      const delta = time - prevTime;\r\n      scene.render(canvasContext, delta);\r\n      prevTime = time;\r\n\r\n      window.requestAnimationFrame(render);\r\n    };\r\n\r\n    window.addEventListener('resize', onResizeCanvas, false);\r\n    setTimeout(() => {\r\n      render(0);\r\n    }, 2000);\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"home-page-comp\">\r\n      <h1 className=\"title centered-container\">Jungwoo Han</h1>\r\n\r\n      <div className=\"greeting\" ref={greetingRef}>\r\n        hello\r\n        <canvas ref={canvasRef}></canvas>\r\n      </div>\r\n\r\n      <div className=\"post-container  centered-container\">\r\n        {\r\n          posts.map((post, index) => (\r\n            <div\r\n              className=\"post-wrapper\"\r\n              key={post.id}\r\n              onClick={() => onClickPost(post)}\r\n            >\r\n              <PostCard\r\n                title={post.title}\r\n                dateString={post.dateString}\r\n                postThemes={post.postThemes}\r\n                description={post.description}\r\n                mainImageUrl={post.mainImageUrl}\r\n              />\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n      {\r\n        isShownMoreButton && (\r\n          <div className='more-button-container  centered-container'>\r\n            <BorderButton\r\n              onClick={onClickMore}\r\n            >\r\n              More ({nextPageTotalPostNum}/{totalPostNum})\r\n            </BorderButton>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import { navigate, PageProps } from \"gatsby\";\r\nimport React, { FunctionComponent, useMemo, useState } from \"react\";\r\nimport FooterScript from \"../lib/FooterScript\";\r\nimport Head from \"../lib/Head\";\r\n\r\nimport HomePage from '../view/component/page/HomePage';\r\n\r\nconst Home: FunctionComponent<PageProps> = ({ pageContext }) => {\r\n  const posts = pageContext['posts'];\r\n  const pageSize = 5\r\n  const [pageNum, setPageNum] = useState(1);\r\n\r\n  const showingPosts = useMemo(() => {\r\n    return posts.slice(0, pageNum * pageSize);\r\n  }, [pageNum]);\r\n\r\n  const isShownMoreButton = posts.length > pageNum * pageSize;\r\n\r\n  const onClickPost = ({ id }: {\r\n    id: number;\r\n  }) => {\r\n    navigate(`/posts/${id}`);\r\n  };\r\n\r\n  const onClickMore = () => {\r\n    setPageNum(pageNum + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Head\r\n      title=\"Home\"\r\n      description=\"Jungwoo Han Blog\"\r\n    />\r\n    <HomePage\r\n      posts={showingPosts}\r\n      onClickPost={onClickPost}\r\n      onClickMore={onClickMore}\r\n      isShownMoreButton={isShownMoreButton}\r\n      totalPostNum={posts.length}\r\n      nextPageTotalPostNum={showingPosts.length + pageSize > posts.length ? posts.length : showingPosts.length + pageSize}\r\n    />\r\n    <FooterScript />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["React","Script","async","src","_ref","children","onClick","className","title","description","dateString","mainImageUrl","postThemes","style","backgroundImage","undefined","map","_ref2","name","key","ImageObject","x","y","width","height","imageUrl","render","canvasContext","drawImage","this","image","Image","initialWidth","initialHeight","SUN_MIN_Y","TRAVELER_IMAGE_URLS","IMAGE_OBJECT_SIZES","leftOffset","topOffset","makeCarTraveler","curImageIdx","length","delta","traveler","travelerVelocity","canvas","posts","onClickPost","onClickMore","isShownMoreButton","totalPostNum","nextPageTotalPostNum","canvasRef","useRef","greetingRef","useEffect","scene","Scene","current","_greetingRef$current","clientWidth","_greetingRef$current2","clientHeight","_canvasRef$current","getContext","matchCanvasToSky","prevTime","time","_canvasRef$current2","_canvasRef$current3","clearRect","_canvasRef$current4","_canvasRef$current5","window","requestAnimationFrame","addEventListener","setTimeout","ref","post","index","id","PostCard","BorderButton","pageContext","pageNum","setPageNum","useState","showingPosts","useMemo","slice","Head","HomePage","navigate","FooterScript"],"sourceRoot":""}